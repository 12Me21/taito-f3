<!doctype html><meta charset=utf-8>

<title>Graphics Memory Map</title>
<link rel=icon sizes=16x16 href=fav.gif>
<link rel=stylesheet href=style.css>

<a href=home.html>Back</a>

<h1>Graphics Memory Map</h1>

<style>
	tr > *, table {
		border: 1px solid;
		border-collapse: collapse;
	}
	tr > * {
		width: 50px;
		min-width: 50px;
	}
	.memory-map.wide tr > th:nth-child(n+2) {
		width: 500px;
		min-width: 500px;
	}
	.memory-map th:not(:first-child) {
		width: 100px;
	}
	.s5 {
		background: #d9ead3;
	}
	.s8 {
		background: #fff2cc;
	}
	.memory-map tr:not(:first-child) {
		height: 20px;
	}
	table {
		table-layout: fixed;
		line-height: 1;
		text-align: center;
	}
	.memory-map td {
		background: white;
	}
	.space {
		border: none !important;
		background: none !important;
	}
	.memory-map [colspan^="+"] {
		border: none !important;
		background: none !important;
	}
</style>

<table class='memory-map wide'>
	<tr>
		<th><th>*... (normal)<th>*... ("extend" mode)
	</tr>
	<tr>
		<th>*00...
		<td rowspan=4>sprite list 0 (word[8]&times;1024)
	</tr>
	<tr><th>*01...</tr>
	<tr><th>*02...</tr>
	<tr><th>*03...</tr>
	<tr><th>*04...</tr>
	<tr><th>*05...</tr>
	<tr><th>*06...</tr>
	<tr><th>*07...</tr>
	<tr>
		<th>*08...
		<td rowspan=4>sprite list 1 (word[8]&times;1024)
	</tr>
	<tr><th>*09...</tr>
	<tr><th>*0A...</tr>
	<tr><th>*0B...</tr>
	<tr><th>*0C...</tr>
	<tr><th>*0D...</tr>
	<tr><th>*0E...</tr>
	<tr><th>*0F...</tr>
	<tr>
		<th>*10...
		<td>tilemap 0 (long&times;32&times;32)
		<td rowspan=2>large tilemap 0 (long&times;64&times;32)
	<tr>
		<th>*11...
		<td>tilemap 1 (long&times;32&times;32)
	<tr>
		<th>*12...
		<td>tilemap 2 (long&times;32&times;32)
		<td rowspan=2>large tilemap 1 (long&times;64&times;32)
	<tr>
		<th>*13...
		<td>tilemap 3 (long&times;32&times;32)
	<tr>
		<th>*14...
		<td>tilemap 3 alternate (long&times;32&times;32)
		<td rowspan=2>large tilemap 2 (long&times;64&times;32)
	<tr>
		<th>*15...
		<td>tilemap 4 alternate (long&times;32&times;32)
	<tr>
		<th>*16...
		<td class=space>
		<td rowspan=2>large tilemap 3 (long&times;64&times;32)
	<tr>
		<th>*17...
		<td class=space>
	<tr>
		<th>*18...
	<tr>
		<th>*19...
	<tr>
		<th>*1A...
	<tr>
		<th>*1B...
	<tr>
		<th>*1C...
		<td rowspan=2>text data (byte[2]&times;64&times;64)
	<tr>
		<th>*1D...
	<tr>
		<th>*1E...
		<td rowspan=2>character font (long&times;8&times;256)
	<tr>
		<th>*1F...
	<tr>
		<th>*20...
		<td>lineram latches / mappings (word&times;256&times;8)
	<tr>
		<th>*21...
		<td>"pivot port"?
	<tr>
		<th>*22...
		<td>lineram block 2 (word&times;256&times;4&times;2)
	<tr>
		<th>*23...
		<td>lineram block 3 (word&times;256&times;4&times;2)
	<tr>
		<th>*24...
		<td>lineram block 4 (word&times;256&times;4&times;2)
	<tr>
		<th>*25...
		<td>lineram block 5 (word&times;256&times;4&times;2)
	<tr>
		<th>*26...
		<td>lineram block 6 (word&times;256&times;4&times;2)
	<tr>
		<th>*27...
		<td>lineram block 7 (word&times;256&times;4&times;2)
	<tr>
		<th>*28...
		<td>lineram block 8 (word&times;256&times;4&times;2)
	<tr>
		<th>*29...
		<td>lineram block 9 (word&times;256&times;4&times;2)
	<tr>
		<th>*2A...
		<td>lineram block A (word&times;256&times;4&times;2)
	<tr>
		<th>*2B...
		<td>lineram block B (word&times;256&times;4&times;2)
	<tr>
		<th>*2C...
		<td>lineram block C (word&times;256&times;4&times;2)
	<tr>
		<th>*2D...
		<td>lineram block D (word&times;256&times;4&times;2)
	<tr>
		<th>*2E...
		<td>lineram block E (word&times;256&times;4&times;2)
	<tr>
		<th>*2F...
		<td>lineram block F (word&times;256&times;4&times;2)
	<tr>
		<th>*30...
		<td rowspan=16>pixel data (long&times;8&times;32&times;64)
	<tr>
		<th>*31...
	<tr>
		<th>*32...
	<tr>
		<th>*33...
	<tr>
		<th>*34...
	<tr>
		<th>*35...
	<tr>
		<th>*36...
	<tr>
		<th>*37...
	<tr>
		<th>*38...
	<tr>
		<th>*39...
	<tr>
		<th>*3A...
	<tr>
		<th>*3B...
	<tr>
		<th>*3C...
	<tr>
		<th>*3D...
	<tr>
		<th>*3E...
	<tr>
		<th>*3F...
</table>

<h2>Data Formats</h2>
<h3>Sprite List Entry</h3>

<table class='memory-map struct'>
	<tr>
		<th><th>bit 15<th>bit 14<th>bit 13<th>bit 12<th>bit 11<th>bit 10<th>bit 9<th>bit 8<th>bit 7<th>bit 6<th>bit 5<th>bit 4<th>bit 3<th>bit 2<th>bit 1<th>bit 0
	</tr>
	<tr>
		<th>word 0<td colspan=16>Tile Number<br>[tile & $FFFF]
	</tr>
	<tr>
		<th>word 1<td colspan=8>Y Zoom<br>[$100⋅(1&minus;scale)]<td colspan=8>X Zoom<br>[$100⋅(1&minus;scale)]
	</tr>
	<tr>
		<th>word 2<td colspan=2>Add Scroll To Position<dl><dt>00<dd>use both<dt>01<dd>use global<dt>10<dd>?<dt>11<dd>use neither</dl><td colspan=2>Set Scroll From Position<dl><dt>00<dd>neither<dt>01<dd>set subglobal<dt>10<dd>set global<dt>11<dd>set both</dl><td colspan=12>X Position
	</tr>
	<tr>
		<th>word 3<td>Command Mode<dl><dt>0<dd>normal<dt>1<dd>command</dl><td colspan=3 class=space>unused?<td colspan=12>Y Position
	</tr>
	<tr>
		<th>word 4<td colspan=2>Block Position Control X<dl><dt>00<dd>set block origin<dt>01<dd>?<dt>10<dd>reset axis to origin<dt>11<dd>increment axis</dl><td colspan=2>Block Position Control Y<br>(same as X)<td>Multi??<dl><dt>0<dd>allow sett&shy;ing block origin on next sprite<dt>1<dd>disallow</dl><td>Palette<dl><dt>0<dd>normal<dt>1<dd>reuse from previous</dl><td colspan=2>Orientation<dl><dt>00<dd>normal<dt>01<dd>horizontal flip<dt>10<dd>vertical flip<dt>11<dd>horizontal+vertical flip</dl><td colspan=8>Palette<br>[(color>>4)&minus;$1000]
	</tr>
	<tr>
		<th>word 5<br>(normal)<td colspan=15 class=space><td>Tile Number<br>[tile >> 16]
	</tr>
	<tr>
		<th>word 5<br>(command)<td colspan=+2><td>Set Screen Orientation<dl><dt>0<dd>normal<dt>1<dd>flipped</dl><td>?<td colspan=+2><td colspan=2>Set Sprite Bits-per-Pixel<dl><dt>00<dd>4-bit<dt>01<dd>5-bit<dt>11<dd>6-bit</dl><td colspan=+2><td colspan=2>??<td colspan=+2><td>Set Frame-buffer Mode<dl><dt>0<dd>clear<dt>1<dd>preserve</dl><td>Set Sprite Bank Number
	</tr>
</table>

<script src=link.js></script>
