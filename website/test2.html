<!doctype html>

<style>
	f3-bits, f3-struct dt {
		font-family: courier, monospace;
		word-spacing: -0.25ch;
		font-size: 1.25em;
		line-height: 22px;
	}
	f3-struct, f3-addr, f3-data {
		display: flex;
		flex-direction: column;
	}
	f3-struct {
		margin-bottom: 1em;
	}
	f3-bits {
		border: 2px inset;
		display: inline-block;
		padding: 0 0.5ch;
		white-space: pre-wrap;
		align-self: flex-start;
	}
	f3-bits >* {
		font-weight: normal;
	}
	f3-bits b:nth-child(2n) {
		color: maroon;
	}
	f3-struct {
		border-left: solid black;
		padding: 0.5em 0 0.5em 1em;
	}
	f3-struct dt {
		margin-right: 0.5em;
		justify-self: right;
	}
	f3-struct dt::after {
		content: ":";
		font-weight: normal;
	}
	f3-struct dl {
		display: grid;
		grid: auto-flow / max-content 1fr;
		margin-left: 1em;
		margin-top: 0.25em;
		margin-bottom: 0em;
	}
	f3-struct f3-addr dl {
		margin-bottom: 0.5em;
	}
	f3-struct dl>* {
		align-self: baseline;
	}
	f3-struct dd {
		margin: 0;
	}
	f3-struct h1 {
		margin: 0;
		font-size: 1.5em;
		margin-bottom: 0.5em;
		margin-left: -0.25em;
	}
	f3-struct f3-addr h1, f3-struct f3-data h1 {
		font-size: 1.2em;
		margin: 0;
	}
	f3-struct dl dl {
		margin-left: 0;
		margin-top: 0;
		margin-bottom: 0;
	}
	f3-struct dl dl dt {
		font-size: unset;
	}
	dl.inline {
		display: flex;
		flex-wrap: wrap;
	}
	dl.inline > dd:not(:last-child) {
		margin-right: 1em;
	}
	dl.inline > dt {
		margin-right: 0em;
	}
	dl.inline > dt::after {
		content: "=";
	}
</style>

<f3-struct>
	<h1>Playfield Tile</h1>
	<f3-addr>
		<h1>Address (normal)</h1>
		<f3-bits><ruby><rb>&ctdot; 01</rb><rt>$601....</rt></ruby> 0nnn yyyy yxxx xx--</f3-bits>
		<dl>
			<dt>x<dd>x index (0-31)
			<dt>y<dd>y index (0-31)
			<dt>n<dd>playfield index
				<dl>
					<dt>0,1,2,3<dd>regular playfield data
					<dt>4,5<dd>alternate data for playfields 2 and 3
				</dl>
		</dl>
		<h1>Address (extend mode)</h1>
		<f3-bits>&ctdot; 01 nnny yyyy xxxx xx--</f3-bits>
		<dl>
			<dt>x<dd>x index (0-63)
		</dl>
	</f3-addr>
	<f3-data>
		<h1>Data</h1>
		<f3-bits>hvTT ppsc cccc cccc  tttt tttt tttt tttt</f3-bits>
		<dl>
			<dt>t<dd>tile index (lower bits)
			<dt>c<dd>palette (0-511)
			<dt>s<dd>blend select
			<dt>p<dd>texture bit planes (bits per pixel select)
				<dl class=inline>
					<dt>0<dd>4bpp
					<dt>1<dd>5bpp
					<dt>2<dd>?
					<dt>3<dd>6bpp
				</dl>
			<dt>T<dd>tile index (upper bits)
			<dt>v<dd>vertical flip
			<dt>h<dd>horizontal flip
		</dl>
	</f3-data>
</f3-struct>


<f3-struct>
	<h1>Text Tile</h1>
	<f3-addr>
		<h1>Address</h1>
		<f3-bits>&ctdot; 01 110y yyyy yxxx xxx-</f3-bits>
		<dl>
			<dt>x<dd>x index (0-63)
			<dt>y<dd>y index (0-63)
		</dl>
	</f3-addr>
	<f3-data>
		<h1>Data</h1>
		<f3-bits>hccc cccv tttt tttt</f3-bits>
		<dl>
			<dt>t<dd>tile index (0-255)
			<dt>v<dd>vertical flip
			<dt>c<dd>palette (0-63)
			<dt>h<dd>horizontal flip
		</dl>
	</f3-data>
</f3-struct>


<script>
	for (let e of document.querySelectorAll('f3-bits')) {
	//	e.innerHTML = e.innerHTML.replace(/([a-zA-Z])( ?\1)*/g, "<b>$&</b>")
	}
</script>
